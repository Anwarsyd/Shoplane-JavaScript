<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>blog</title>

    <link rel="stylesheet" href="style.css">

    <link href="https://fonts.googleapis.com/css?family=Amatic+SC:400,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:100,200,300,400,500,600,700,800,900&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@100&family=Foldit:wght@100&family=Karla:ital,wght@0,200;1,200&family=Noto+Serif:ital@1&display=swap" rel="stylesheet">


    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css">

    <!-- bootstrap  -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
</head>
<body>

    <div id="preloder">
        <div class="loader"></div>
    </div>



    <div class="offcanva">
        <button class="btn btn-dark  btn-end" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample" aria-expanded="false">
            <i class="bi bi-list"></i>
        </button>
    
        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasExampleLabel">
                    <a class="off-logo" href="#">
                        <img src="img/logo.png" alt="Logo"class="w-25">
                    </a>
                </h5>
                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <nav class="navbar mx-auto">
                    <ul class="offcanva-nav fs-5 fw-bold">
                        <li class="nav-item off-hover">
                        <a class="nav-link" href="index.html">Home</a>
                        </li><br>
                        <li class="nav-item off-hover">
                        <a class="nav-link" href="shop.html">Shop</a>
                        </li><br>
                        <li class="nav-item off-hover">
                            <a class="nav-link"  href="blogs.html">Blogs</a>
                        </li><br>
                        <li class="nav-item off-hover">
                        <a class="nav-link"  href="about.html">About</a>
                        </li><br>
                        <li class="nav-item off-hover">
                            <a class="nav-link"  href="contact.html">Contact</a>
                        </li><br>
                    </ul>
                </nav>
            </div>
        </div>
    </div>


    <header class="header mt-4">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="img/logo.png" alt="Logo"class="logos img-start position-absolute mb-2 ms-5">
            </a>
        </div>
        <nav class="navbar navbar-expand-lg p-1  mx-auto" style="width: 200px;">
            <!-- <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                aria-expanded="false" aria-label="Toggle navigation">
                <span><i class="bi bi-three-dots"></i></span>
            </button> -->
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav" >
                    <!-- <li class="nav-item navi">
                        <a class="navbar-brand" href="#">
                            <img src="img/logo.png" alt="logo" id="l">
                        </a>

                    </li> -->
                    <li class="nav-item navi">
                    <a class="nav-link active" aria-current="page" href="index.html">Home</a>
                    </li>
                    <li class="nav-item navi">
                    <a class="nav-link" href="shop.html">Shop</a>
                    </li>  
                    <li class="nav-item navi">
                        <a class="nav-link"  href="blogs.html">Blogs</a>
                    </li>
                    <li class="nav-item navi">
                    <a class="nav-link"  href="about.html">About</a>
                    </li>
                    <li class="nav-item navi">
                        <a class="nav-link"  href="contact.html">Contact</a>
                    </li>
                </ul>
                <div class="cart-log fs-5">
                    <a href="cart.html"><button class="btn btn-light rounded p-1 "><i class="position-absolute bi bi-handbag text-dark"></i><span class=" top-0 start-100 translate-middle badge rounded-pill bg-danger " id="cartCount">
                       
                      </span></button></a>
                </div>
                <div class="sign-in fs-5 ms-4">   
                    <a href="signin.html"><button class="btn  btn-success  ms-3">Signin</button></a>
                </div>
            </div>
            </div>
        </nav>
    </header>

    <div class="container-fluid">
        <div class="cart-bgg text-white mt-1">
            <h2 class="text-center text-sz fs-bold">My Cart</h2>
            <p>Lorem  cum sapiente voluptatem accusantium dolore non. Iure deserunt eum similique sit.</p>
        </div>
    </div>


    <div class="container">
        <div class="cart-det mt-5 mb-3">
            <table class="table border border-2 mt-2 ">
                <thead class="bg-success text-white mb-2">
                    <tr>
                        <td>Remove</td>
                        <td>Images</td>
                        <td>Product</td>
                        <td>Quantity</td>
                        <td>Price</td>
                        <td>Subtotal</td>
                    </tr>
                </thead>
                <tbody class="cart-body">
                    
                </tbody>
            </table>
        </div>
    </div>
    <div class="container">
        <div class="coupon mt-5">
            <div class="row">
                 <!-- <div class="col-lg-5">
                    <div class="coupon-code">
                        <h5 class="card-title p-2 fs-3 fs-bold">Apply Coupon</h5>
                        <div class="input-gp mb-3">
                            <input type="text" class="form-control mb-4 mt-4 border border-dark" placeholder="Enter your Coupon Code"> 
                            <button class="btn text-center btn-success rounded ms-2">Apply</button>
                    </div>
                    </div>
                </div>  -->
                <div class="col-lg-12">
                    <div class="card-tot p-3 mt-3 border rounded border-secondary border-2">
                        <h5 class="card-title fs-3 fs-bold">Card Totals</h5>
                        <table class="table border border-2 mt-2 ">
                            <tbody class="total">
                             
                            </tbody>
                        </table>
                        <div class="proceed-btn">
                            <button class="btn  btn-success rounded mt-2">Proceed To Checkout</button>                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


   




    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <!-- <script src="/script.js"></script> -->
    <script>
    var prod_data=[{image:"img/proimg/pro-st-1.png",
                   prodName:"Comfort Boxy Fit  Striped Casual Shirt",
                   Brandname:"Raymond",
                   description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit necessitatibus distinctio dolorem molestias eius excepturi explicabo. Ea eligendi ut",
                   price:3.99,
                   rating:4,
                   },
                   {image:"/img/proimg/pro-st-4.png",
                   prodName:"Spread Collar Cotton Casual Shirt",
                   Brandname:"Karl Lagerfeld",
                   description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit necessitatibus distinctio dolorem molestias eius excepturi explicabo. Ea eligendi ut",
                   price:4.99,
                   rating:2,
                   },
                   {image:"/img/proimg/pro-jn-1.png",
                   prodName:"Blaxk Regular Fit Mildly Distressed Jeans",
                   Brandname:"True Religion",
                   description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit necessitatibus distinctio dolorem molestias eius excepturi explicabo. Ea eligendi ut",
                   price:4.99,
                   rating:2,
                   },
                   {image:"/img/proimg/pro-st-2.png",
                   prodName:"Cotton Regular Fit Casual Shirt",
                   Brandname:"Cantabil",
                   description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit necessitatibus distinctio dolorem molestias eius excepturi explicabo. Ea eligendi ut",
                   price:5.99,
                   rating:3,
                   },
                   {image:"/img/proimg/pro-ts-1.png",
                   prodName:"Green Colourblock  T-shirt",
                   Brandname:"Lacoste",
                   description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit necessitatibus distinctio dolorem molestias eius excepturi explicabo. Ea eligendi ut",
                   price:5.99,
                   rating:3,
                   },

                   {image:"/img/proimg/pro-jn-3.png",
                   prodName:"Solid Fit Mid-Rise Pleated Cotton Jeans",
                   Brandname:"Levis",
                   description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit necessitatibus distinctio dolorem molestias eius excepturi explicabo. Ea eligendi ut",
                   price:4.99,
                   rating:2,
                   },
                   {image:"/img/proimg/pro-st-3.png",
                   prodName:"Cotton India Slim Fit Striped Casual Shirt",
                   Brandname:"Blackberrys",
                   description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit necessitatibus distinctio dolorem molestias eius excepturi explicabo. Ea eligendi ut",
                   price:4.99,
                   rating:2,
                   },
                   {image:"/img/proimg/pro-ts-3.png",
                   prodName:"Striped Fit Pure Cotton T-shirt",
                   Brandname:"Ted Baker",
                   description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit necessitatibus distinctio dolorem molestias eius excepturi explicabo. Ea eligendi ut",
                   price:4.99,
                   rating:2,
                   },
                   {image:"/img/proimg/pro-ts-4.png",
                   prodName:"Solid Round Neck Pure Cotton T-shirt",
                   Brandname:"Roadster",
                   description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit necessitatibus distinctio dolorem molestias eius excepturi explicabo. Ea eligendi ut",
                   price:4.99,
                   rating:2,
                   },
                   {image:"/img/proimg/pro-ts-2.png",
                   prodName:"Self Design Short Sleeves Cotton T-shirt",
                   Brandname:"Ted Baker",
                   description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit necessitatibus distinctio dolorem molestias eius excepturi explicabo. Ea eligendi ut",
                   price:4.99,
                   rating:2,
                   },
                   {image:"/img/proimg/pro-jn-2.png",
                   prodName:"Blue Tapered Fit Heavy Fade Jeans",
                   Brandname:"Antony Morato",
                   description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit necessitatibus distinctio dolorem molestias eius excepturi explicabo. Ea eligendi ut",
                   price:4.99,
                   rating:2,
                   },
                   {image:"/img/proimg/pro-jn-4.png",
                   prodName:"Grey Ben Fit Low-Rise Stretchable Jeans",
                   Brandname:"Jack & Jones",
                   description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit necessitatibus distinctio dolorem molestias eius excepturi explicabo. Ea eligendi ut",
                   price:4.99,
                   rating:2,
                   },
                   {image:"/img/proimg/pro-st-5.png",
                   prodName:"Yellow Slim Fit Printed Casual Shirt",
                   Brandname:"Arrow Sport",
                   description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit necessitatibus distinctio dolorem molestias eius excepturi explicabo. Ea eligendi ut",
                   price:4.99,
                   rating:2,
                   },
                   {image:"/img/proimg/pro-jn-5.png",
                   prodName:"Navy BlueFit Low-Rise Stretchable Jeans",
                   Brandname:"Pepe Jeans",
                   description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit necessitatibus distinctio dolorem molestias eius excepturi explicabo. Ea eligendi ut",
                   price:4.99,
                   rating:2,
                   },
                   {image:"/img/proimg/pro-st-6.png",
                   prodName:"Men Blue Slim Fit Checked Casual Shirt",
                   Brandname:"Basics",
                   description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit necessitatibus distinctio dolorem molestias eius excepturi explicabo. Ea eligendi ut",
                   price:4.99,
                   rating:2,
                   },
                   {image:"/img/proimg/pro-st-7.png",
                   prodName:"Slim Fit Tartan Checked Casual Shirt",
                   Brandname:"HIGHLANDER",
                   description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit necessitatibus distinctio dolorem molestias eius excepturi explicabo. Ea eligendi ut",
                   price:4.99,
                   rating:2,
                   },
                   ];
    var prodCart = localStorage.getItem("cartitem")||[];
    if(prodCart.length > 0)
    {
        prodCart = JSON.parse(prodCart);
    }

    window.addEventListener("load",function(){
        //console.log(prodCart);
        cartDisplay(prodCart);
       })

    function cartDisplay(prodCart)
    {
        for (let i = 0; i < prodCart.length; i++) {
                            
             price = prod_data[prodCart[i].itemIndex].price;
            data = prod_data[prodCart[i].itemIndex];
            total+=parseFloat(price) * parseInt(prodCart[i].count);
            var html = ' <tr id="cart-row-'+i+'">'+
                    '<td><button class="btn btn-transparent"><i class="bi bi-dash-circle mt-2 " onclick="removeFrmCart(\''+i+'\')"></i></button></td>'+
                    '<td><img src="'+data.image+'" alt=""></td>'+
                    '<td>'+data.prodName+'</td>'+
                    '<td><input type="number" value="'+prodCart[i].count+'" style="width: 50px;"></td>'+
                    '<td>'+data.price+'</td>'+
                    '<td>'+parseFloat(data.price) * parseInt(prodCart[i].count) +'</td>'+
                    '</tr>';
             document.querySelector(".cart-body").innerHTML += html ;
        }
    }
    
                   total_count = 0;
    for (let i = 0; i < prodCart.length; i++) {
        total_count+= parseInt(prodCart[i].count);
    }
    document.getElementById('cartCount').textContent = total_count;
                   
                   calculateTotal(prodCart);
                   function calculateTotal(cart)
                   {
                    total_html = ''; total = 0;
                    for (let i = 0; i < cart.length; i++) {
                        price = prod_data[cart[i].itemIndex].price;
                    data = prod_data[cart[i].itemIndex];
                    total+=parseFloat(price) * parseInt(cart[i].count);

                    }

                              var total_html = ' <tr>'+
                                '<td>Card Subtotal</td>'+
                                '<td>'+total+'</td>'+
                              '</tr>'+
                              '<tr>'+
                                '<td>Shipping</td>'+
                                '<td>Free</td>'+
                              '</tr>'+
                              '<tr>'+
                                '<td><strong>Total</strong></td>'+
                                '<td><strong>'+total.toFixed(2)+'</strong></td>'+
                              '</tr>';
                              document.querySelector(".total").innerHTML = total_html ;
                    
                   }

    

        
  
                            
     function removeFrmCart(index) {
       // alert(index);
        var prodCart = localStorage.getItem("cartitem");
        prodCart = JSON.parse(prodCart);
        count = parseInt(document.getElementById('cartCount').textContent) - prodCart[index].count ;
        document.getElementById('cartCount').textContent = count;
       // delete prodCart[index];
        prodCart.splice(index, 1);
        localStorage.setItem('cartitem', JSON.stringify(prodCart));
        prodCart = JSON.parse(localStorage.getItem("cartitem"));
        document.getElementById('cart-row-'+index).remove();
        total_count = 0;
        
        for (let i = 0; i < prodCart.length; i++) 
        {
            total_count+= parseInt(prodCart[i].count);
            document.getElementById('cartCount').textContent = total_count;
        }
        document.querySelector(".total").innerHTML = '';
       
       calculateTotal(prodCart);
       
         alert("removed succesfully");
        // console.log(localStorage.getItem("cartitem"));
    }       
    
    </script>
</body>
</html>